name: deploy to minikube cluster must work
on: 
 push:
   branches:
     - dev-branch 
jobs:
  build:
   runs-on: self-hosted 

   steps:
    
     - name: checkout action 
       uses: actions/checkout@v2 
     - name: deploy to minikube 
       run: | 
        kubectl apply -f ./kubernetes/namespace.yaml 
        kubectl apply -f ./kubernetes/deployment.yaml 
        kubectl apply -f ./kubernetes/service.yaml 

